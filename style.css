body {
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    [data-mode="dark"] body {
      background-color: #1a1a2e;
      color: #e0e0e0;
    }

    [data-mode="dark"] .bg-white {
        background-color: #2c2c44;
        color: #e0e0e0;
    }

    [data-mode="dark"] .border-gray-200 {
        border-color: #444466;
    }

    [data-mode="dark"] .text-gray-800 {
        color: #e0e0e0;
    }

    [data-mode="dark"] .text-gray-700 {
        color: #c0c0d0;
    }

    [data-mode="dark"] .text-gray-500 {
        color: #9999b0;
    }

    [data-mode="dark"] select, [data-mode="dark"] input {
        background-color: #38385a;
        border-color: #444466;
        color: #e0e0e0;
    }

    [data-mode="dark"] select:focus, [data-mode="dark"] input:focus {
        border-color: #6a6ad3;
        ring-color: #6a6ad3;
    }

    [data-mode="dark"] .day-number {
      color: #9999b0;
    }

    /* This is the key change: specify that only the empty squares should have the dark mode background */
    [data-mode="dark"] .day-square.bg-gray-200 {
      background-color: #38385a;
    }

    /* Corrected styling for export/import buttons in dark mode */
    [data-mode="dark"] #exportDataBtn,
    [data-mode="dark"] #importDataBtn {
        background-color: #38385a;
        color: #e0e0e0;
    }

    [data-mode="dark"] #exportDataBtn:hover,
    [data-mode="dark"] #importDataBtn:hover {
        background-color: #4a4a70;
    }

    [data-mode="dark"] .text-gray-400 {
        color: #6a6a8c;
    }

    [data-mode="dark"] .modal-content {
        background-color: #2c2c44;
        border-color: #444466;
    }

    [data-mode="dark"] .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: #4a4a70;
    }

    .tracker-grid {
      display: grid;
      grid-template-columns: minmax(140px, 1fr) repeat(31, 1.9rem);
      gap: 0.1rem;
    }
    .day-square, .day-number {
      width: 1.9rem;
      height: 1.9rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0.5rem;
      font-size: 0.75rem;
      font-weight: 600;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background-color 0.3s ease;
    }
    .day-square {
      cursor: pointer;
      background-color: #e5e7eb;
    }
    .day-square:hover {
      transform: scale(1.07);
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
    }
    .day-number {
      font-size: 0.65rem;
      color: #9ca3af;
    }

    /* Added styling for the current day circle */
    .day-number.current-day {
        background-color: #e5b846;
        color: #ffffff;
        border-radius: 9999px; /* full circle */
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 50;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(6px);
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease-out;
    }
    .modal-content {
      transform: translateY(20px);
      animation: slideIn 0.3s ease-out forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideIn {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    /* Custom Scrollbar for better UX on overflow */
    .custom-scrollbar::-webkit-scrollbar {
        height: 8px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #d4d4d4;
        border-radius: 10px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #b0b0b0;
    }
    [data-mode="dark"] .custom-scrollbar::-webkit-scrollbar-track {
        background: #2c2c44;
    }
    [data-mode="dark"] .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #4a4a70;
    }
    [data-mode="dark"] .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #6a6a8c;
    }

    /* New styles for color selection circles */
    .color-circle {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 9999px; /* full circle */
        cursor: pointer;
        transition: transform 0.1s ease, box-shadow 0.1s ease;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .color-circle:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .color-circle.selected {
        border: 3px solid #1f2937; /* A darker border to indicate selection */
    }
    [data-mode="dark"] .color-circle.selected {
        border: 3px solid #e5e7eb;
    }
